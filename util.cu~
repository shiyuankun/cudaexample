#include <math.h>
#include "matrix.h"

int
CmpMat(Matrix l, Matrix r)
{
    int i, j;
    if (l == NULL || r == NULL)
    {
        printf("NULL pointer\n");
        return 0;
    }
    
    if (l->height != r->height)
        return 0;
    if (l->width != r->width)
        return 0;
    
    for (i = 0;i<l->height;i ++ )
        for (j = 0;j<l->width;j ++ )
            if (fabs(l.elements[i*l->width + j] - r.elements[i*r->width + j])>0.00001)
            {
                return 0;
            }
    return 1;
}

Matrix
Initialize(int width, int height, int initval)
{
    Matrix x;
    int i, j;
    x->width = width;
    x->height = height;
    x->pitch = height;
    x->elements = (float * )malloc(width * height * sizeof(float));
    if (initval)
    {
        for (i = 0;i < x->height;i++)
            for (j = 0;j < x->width;j++)
                x->elements[i * x->width + j] = i*10.0 + j;
    }
    return x;
}
